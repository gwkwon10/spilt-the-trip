<%= stylesheet_link_tag "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css", media: "all", "data-turbo-track": "reload" %>

<h1>Add a New Expense</h1>

<%= form_with(model: [@trip, @expense]) do |form| %>
  
  <div>
    <%= form.label :desc, "Expense Description" %><br>
    <%= form.text_field :desc %>
  </div>

  <div>
    <%= form.label :category %>
    <%= form.select :category, options_for_select(["Food", "Transport", "Lodging", "Entertainment", "Other"]) %>
  </div>

  <div>
    <%= form.label :amount, "Amount" %><br>
    <%= form.number_field :amount, step: 0.01 %>
  </div>

  <div>
    <%= form.label :currency %>
    <%= form.select :currency, options_for_select(["USD", "EUR", "GBP", "JPY", "CAD"]) %>
  </div>

  <div>
    <%= form.label :date, "Date of Expense" %><br>
    <%= form.date_field :date %>
  </div>

  <div>
    <%= form.label :traveler_id, "Who Paid?" %><br>
    <%= form.collection_select :traveler_id, @trip.travelers, :id, :name, prompt: "Select Payer" %>
  </div>

  <div>
    <%= form.label :users, "Select Who Is Involved" %>
    <%= form.collection_check_boxes :user_ids, @trip_users, :id, :name do |b| %>
      <div>
        <%= b.check_box %>
        <%= b.label %>
      </div>
    <% end %>
  </div>
  
  <div>
    <%= form.submit "Add Expense" %>
  </div>

<% end %>
