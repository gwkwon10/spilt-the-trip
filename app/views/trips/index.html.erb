<%= stylesheet_link_tag "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css", media: "all" %>

<div class="container py-5">
  <h1 class="display-4 text-center">Your Trips</h1>
  
  <% if flash[:alert] %>
    <div class="alert alert-danger"><%= flash[:alert] %></div>
  <% end %>

  <% if @trips.empty? %>
    <p class="text-center">You have no trips yet.</p>
  <% else %>
    <div class="list-group">
      <% @trips.each do |trip| %>
        <div class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <a href="<%= trip_path(trip) %>" class="text-decoration-none text-dark">
                <h5 class="mb-1"><%= trip.name %></h5>
                <p class="mb-1">Start Date: <%= trip.startDate.strftime("%B %d, %Y") %></p>
                <p class="mb-1">End Date: <%= trip.endDate.strftime("%B %d, %Y") %></p>
                <p class="text-muted">Currency: <%= trip.defaultCurrency %></p>
              </a>
            </div>
            <div class="d-flex gap-2">
              <%= link_to "Edit Trip", edit_trip_path(trip), class: "btn btn-sm btn-outline-primary" %>
              <%= button_to "Delete Trip", trip_path(trip), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-sm btn-outline-danger" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>

  <hr class="my-4" />
  <div class="text-center">
    <%= link_to "Create a New Trip", new_trip_path, class: "btn btn-primary btn-lg me-2" %>
    <%= link_to "Home Page", root_path, class: "btn btn-primary btn-lg" %>
  </div>
</div>
